<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" 
	"http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >

	<title>Help - HMI - Active Widget</title>
<link rel="icon" type="image/png" href="/systemicon.png">
<!-- General page layout style sheet. -->
<link rel="stylesheet" href="/helppagelayout.css" type="text/css">
</head>

<body>
<div id="filler">

	<div id="header">
		<p class="headlogo">
			<img src="/systemlogo.png" width="200" alt="MB Logic Logo"/>
			<span class="headtitle1">MBLogic </span>
			<span class="headtitle2"> for an open world in automation</span>
		</p>
	</div>



	<!-- This is the standard nav bar. -->
	<div id="nav">
		<ul>
			<li><a href="/index.html">Home</a></li>
			<li><a href="/svgedit/svgedit.html">Edit SVG</a></li>
			<li><a href="/svglib/svglib.html">SVG Library</a></li>
			<li><a href="/svglibedit/svglibedit.html">Inkscape</a></li>
			<li><a href="/hmitemplates/hmitemplates.html">Templates</a></li>
			<li><a href="/hmibuilder/hmibuilder.html">Assemble Page</a></li>
		</ul>
	</div>


<hr>

	<!-- This is the help system nav bar. -->
	<div id="helpnav">
		<h2>Help Topics</h2>
		<ul>
			<li><a href="/index.html">Home</a></li>
			<li><a href="/svgedit/svgedit.html">Editing SVG with Inkscape</a></li>
			<li><a href="/svglib/svglib.html">SVG Library</a></li>
			<li><a href="/svglibedit/svglibedit.html">Using the SVG Library with Inkscape</a></li>
			<li><a href="/customwidgets/customwidgets.html">Custom Widgets</a></li>
			<li><a href="/hmitemplates/hmitemplates.html">HMI web templates</a></li>
			<li><a href="/hmibuilder/hmibuilder.html">Assembling web pages</a></li>
			<li><a href="/hmilib/hmilib.html">HMI Javascript Client Libraries</a></li>
			<li><a href="/basicconcepts/basicconcepts.html">Basic Concepts</a></li>
			<li><a href="/manualpage/manualpage.html">Manual HMI Web Page Construction</a></li>
		</ul>

		<h3>Creating Custom Widgets</h3>
		<ul>
			<li><a href="/customwidgets/widgetbasics.html">Widget Basics</a></li>
			<li><a href="/customwidgets/passivewidget.html">Passive Widget</a></li>
			<li><a href="/customwidgets/hmibuilderdata.html">HMIBuilder Data</a></li>
			<li><a href="/customwidgets/activewidget.html">Active Widgets</a></li>
		</ul>

	</div>



	<!-- Put main content here -->
	<div id="datadisplay">


<h1>Active SVG HMI Widgets</h1>


<h2>Overview</h2>


<p>This section describes how to create active widgets. 
</p>

<hr>

<h2>Create the SVG Artwork</h2>

<p>Create the SVG widget artwork. See the section on passive widgets for 
details on what the various parts of the SVG widget artwork mean. 
</p>

<pre class="examples">

&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;
&lt;svg
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   version="1.0"
   xmlns:mblogic="http://www.example.com/mblogic"
   width="100"
   height="100"&gt;

&lt;defs&gt;
	&lt;linearGradient id="MB_SilverGradient" x1="1" y1="1" x2="0" y2="0"&gt;
		&lt;stop offset="50%" stop-color="silver" /&gt;
		&lt;stop offset="100%" stop-color="white" /&gt;
	&lt;/linearGradient&gt;

	&lt;!-- The following filter is used to add a drop shadown. --&gt;
	&lt;filter id="MB_DropShadowFilter"&gt;
		&lt;feGaussianBlur stdDeviation="2"&gt;
		&lt;/feGaussianBlur&gt;
	&lt;/filter&gt;
&lt;/defs&gt;

&lt;!-- Round pilot light. --&gt;
&lt;g&gt;

	&lt;!-- This is a decorative nut. --&gt;
	&lt;polygon transform="translate(5,5)" fill="grey" stroke="none"
		filter="url(#MB_DropShadowFilter)"
			points="63,0 27,0 0,27 0,63 27,90 63,90 90,63 90,27 63,0" /&gt;
	&lt;polygon  fill="url(#MB_SilverGradient)" stroke="none"
			points="63,0 27,0 0,27 0,63 27,90 63,90 90,63 90,27 63,0" /&gt;
	
	&lt;!-- This is the part which changes colour. --&gt;
	&lt;circle cx="45px" cy="45px" r="35px" stroke="black" stroke-width="5px"/&gt;

&lt;/g&gt;

&lt;/svg&gt;

</pre>


<hr>

<h2>Create the HMIBuilder Data</h2>

<p>Create the HMIBuilder attribute data. See the section on HMIBuilder data for
more details on this.
</p>


<pre class="examples">

	mblogic:widgettype="pilot_light" 
	mblogic:widgetname="Pilot Light"
	mblogic:editcount="0"
	mblogic:menu='[
		{"value": "", "type": "tag", "name": "Output Tag", "param": "outputtag"}, 
		{"value": "black", "type": "colour", "name": "Init Colour", "param": "initcolour"}, 
		{"value": "", "type": "colour", "name": "Off Colour", "param": "offcolour"}, 
		{"value": "", "type": "colour", "name": "On Colour", "param": "oncolour"}]'
	mblogic:inputfunc="[]"
	mblogic:outputfunc='MBHMIProtocol.AddToDisplayList(new MB_PilotLight(document, 
		"%(widgetid)s", "%(initcolour)s", "%(offcolour)s", "%(oncolour)s"), "%(outputtag)s", "read");'

</pre>

<hr>


<h2>Add the HMIBuilder Data to the SVG Widget</h2>

<p>Add the HMIBuilder attribute data to the SVG Widget data. The HMIBuilder 
attribute data must be part of the "group" tag ("&lt;g&gt;&lt;/g&gt;") which
the "id" will be assigned to. This is normally the outermost group. The
HMIBuilder program will find the active widget by looking for a group with the 
"mblogic:widgettype" attribute. Everything inside that group will be
considered to be part of the widget. 
</p>

<pre class="examples">

&lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&gt;
&lt;svg
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   version="1.0"
   xmlns:mblogic="http://www.example.com/mblogic"
   width="100"
   height="100"&gt;

&lt;defs&gt;
	&lt;linearGradient id="MB_SilverGradient" x1="1" y1="1" x2="0" y2="0"&gt;
		&lt;stop offset="50%" stop-color="silver" /&gt;
		&lt;stop offset="100%" stop-color="white" /&gt;
	&lt;/linearGradient&gt;

	&lt;!-- The following filter is used to add a drop shadown. --&gt;
	&lt;filter id="MB_DropShadowFilter"&gt;
		&lt;feGaussianBlur stdDeviation="2"&gt;
		&lt;/feGaussianBlur&gt;
	&lt;/filter&gt;
&lt;/defs&gt;

&lt;!-- Round pilot light. --&gt;
&lt;g <strong>mblogic:widgettype="pilot_light" 
	mblogic:widgetname="Pilot Light"
	mblogic:editcount="0"
	mblogic:menu='[
		{"value": "", "type": "tag", "name": "Output Tag", "param": "outputtag"}, 
		{"value": "black", "type": "colour", "name": "Init Colour", "param": "initcolour"}, 
		{"value": "", "type": "colour", "name": "Off Colour", "param": "offcolour"}, 
		{"value": "", "type": "colour", "name": "On Colour", "param": "oncolour"}]'
	mblogic:inputfunc="[]"
	mblogic:outputfunc='MBHMIProtocol.AddToDisplayList(new MB_PilotLight(document, 
		"%(widgetid)s", "%(initcolour)s", "%(offcolour)s", "%(oncolour)s"), "%(outputtag)s", "read");'
	</strong> 	
	&gt;

	&lt;!-- This is a decorative nut. --&gt;
	&lt;polygon transform="translate(5,5)" fill="grey" stroke="none"
		filter="url(#MB_DropShadowFilter)"
			points="63,0 27,0 0,27 0,63 27,90 63,90 90,63 90,27 63,0" /&gt;
	&lt;polygon  fill="url(#MB_SilverGradient)" stroke="none"
			points="63,0 27,0 0,27 0,63 27,90 63,90 90,63 90,27 63,0" /&gt;
	
	&lt;!-- This is the part which changes colour. --&gt;
	&lt;circle cx="45px" cy="45px" r="35px" stroke="black" stroke-width="5px"/&gt;

&lt;/g&gt;

&lt;/svg&gt;

</pre>

<hr>

<h2>Types of Widgets</h2>

<p>The behaviour of the widget depends on the type of Javascript function used 
in the output function. See the section on the "HMI Client Display Library" 
for details on how these work.
</p>


<hr>

	</div>

	<!-- Standard footer -->
	<div id="footer">
		<p>MB-HMI</p>
	</div>

</div>


</body>
</html>


<!-- Copyright 2008 - 2011. Michael Griffin 
This file is part of MBLogic. 
MBLogic is free software: you can redistribute it and/or modify 
it under the terms of the GNU General Public License as published by 
the Free Software Foundation, either version 3 of the License, or 
(at your option) any later version. 
MBLogic is distributed in the hope that it will be useful, 
but WITHOUT ANY WARRANTY; without even the implied warranty of 
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the 
GNU General Public License for more details. 
You should have received a copy of the GNU General Public License 
along with MBLogic. If not, see <http://www.gnu.org/licenses/>. 
-->
