<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" 
	"http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >

	<title>Help - HMI - Template Customisation</title>
<link rel="icon" type="image/png" href="/systemicon.png">
<!-- General page layout style sheet. -->
<link rel="stylesheet" href="/helppagelayout.css" type="text/css">
</head>

<body>
<div id="filler">

	<div id="header">
		<p class="headlogo">
			<img src="/systemlogo.png" width="200" alt="MB Logic Logo"/>
			<span class="headtitle1">MBLogic </span>
			<span class="headtitle2"> for an open world in automation</span>
		</p>
	</div>



	<!-- This is the standard nav bar. -->
	<div id="nav">
		<ul>
			<li><a href="/index.html">Home</a></li>
			<li><a href="/svgedit/svgedit.html">Edit SVG</a></li>
			<li><a href="/svglib/svglib.html">SVG Library</a></li>
			<li><a href="/svglibedit/svglibedit.html">Inkscape</a></li>
			<li><a href="/hmitemplates/hmitemplates.html">Templates</a></li>
			<li><a href="/hmibuilder/hmibuilder.html">Assemble Page</a></li>
		</ul>
	</div>


<hr>

	<!-- This is the help system nav bar. -->
	<div id="helpnav">
		<h2>Help Topics</h2>
		<ul>
			<li><a href="/index.html">Home</a></li>
			<li><a href="/svgedit/svgedit.html">Editing SVG with Inkscape</a></li>
			<li><a href="/svglib/svglib.html">SVG Library</a></li>
			<li><a href="/svglibedit/svglibedit.html">Using the SVG Library with Inkscape</a></li>
			<li><a href="/customwidgets/customwidgets.html">Custom Widgets</a></li>
			<li><a href="/hmitemplates/hmitemplates.html">HMI web templates</a></li>
			<li><a href="/hmibuilder/hmibuilder.html">Assembling web pages</a></li>
			<li><a href="/hmilib/hmilib.html">HMI Javascript Client Libraries</a></li>
			<li><a href="/basicconcepts/basicconcepts.html">Basic Concepts</a></li>
			<li><a href="/manualpage/manualpage.html">Manual HMI Web Page Construction</a></li>
		</ul>

		<h3>Template Files</h3>
		<ul>
			<li><a href="/hmitemplates/templateweb.html">Web Page Templates</a></li>
			<li><a href="/hmitemplates/templatecss.html">CSS Templates</a></li>
			<li><a href="/hmitemplates/templatesvg.html">SVG Templates</a></li>
			<li><a href="/hmitemplates/templateother.html">Other Template Files</a></li>
			<li><a href="/hmitemplates/templatecustom.html">Template Customisation</a></li>
		</ul>

	</div>



	<!-- Put main content here -->
	<div id="datadisplay">


	<h1>Web Template Customisation</h1>

	
	<p>The provided web templates can be customised or replaced by ones of your own
	design. This section describes how to so this. It is not however a tutorial
	on web page design. 
	</p>

	<hr>
	

	<h2>Changing Background and Menu Colours</h2>

	
	<p>The web page templates are provided in a single colour. You will probably wish 
	to change this colour to something more attractive. However, the colours 
	themselves are not set in the web page itself. Rather, they are set in the 
	template specific CSS (see the section titled "CSS"). 
	</p>
	
	<p>There are two colours which can be changed here. The location of these colours
	in the file will be obvious (the files are relatively small). You can use any
	valid HTML colour code or HTML colour name. A search on the Internet will turn 
	up numerous colour tables and descriptions which can help to select an 
	appropriate colour.
	</p>
	
	<p>The HTML menu colour is set in the standard common CSS file ("pagelayout.css"). 
	There are two menu definitions provided in this file. One is for horizontal
	menus, and one is for vertical menus. You are unlikely to need to change
	these colours, but if you do they can be changed in a way similar to that
	for the backgrounds. 
	</p>
	
	<hr>
	

	<h2>Custom Web Page Templates</h2>

	
	<p>The web page templates provided may be used as is, or you may wish to modify 
	or replace them. Since the HMI system depends entirely on web standards, you
	can create your own completely custom web pages and integrate them with the
	other components. However, some components expect certain features to be 
	provided. 
	</p>
	
	<p>If you intend to provide your own custom web templates, then you should know
	something about HTML and creating web pages. The following will provide
	some points to keep in mind, but it is not a web development tutorial. 
	</p>
	
	<ul>
	<li>If you wish to provide multiple HTML "screens", you will need to provide
	  appropriate "div" tags and CSS. The web page templates provide this feature
	  by hiding and showing different sections of the same page (each template is
	  actually a single web page). This is accomplished via Javascript and CSS.
	</li>
	
	<li>If you intend to use alarms, events, and protocol errors and status, you 
	  will need to provide appropriate tables for them. The number and order of 
	  the columns is fixed in the Javascript libraries, so any tables you provide 
	  will need to have the same layout as those provided in the templates. 
	</li>
	
	<li>The alarms, events, and protocol errors and status are animated by Javascript
	  libraries. Documentation on these libraries is provided with each program.
	</li>
	
	<li>Communications operates on a polling cycle. You will need to initialise the
	  communications library and call the communications object on a regular basis
	  (e.g. via "window.setTimeout").
	</li>
	
	</ul>

	<h3>Using a Custom Web Page Template with the HMIBuilder Program</h3>

	<p>The HMIBuilder program expects certain features to be present in a web
	page template so that it can insert the SVG data and the Javscript code. 
	The following <strong><em>must</em></strong> be included.
	</p>

	<ul>
		<li><strong>SVG Target Div</strong> - A div must be present to act as
		a target location for the SVG to be inserted. It <em>must</em> have an
		id of "MBT_SVGScreen".
		</li>

		<li><strong>Control List Target</strong> - A "script" tag must be present
		with an id of "MBT_ControlLists". It <em>must</em> have string formatting
		codes to allow the data for the "control lists" (the read list, alarm 
		list, event list, and SVG screen table) to be inserted. See the provided
		template for details on what this should look like.  
		</li>

		<li><strong>Control Scripts Target</strong> - A "script" tag must be 
		present with an id of "MBT_ControlScripts". It <em>must</em> have a 
		string formatting code to allow the Javascript which controls the
		outputs to be inserted into the page. See the provided template for 
		details on what this should look like.  
		</li>

	</ul>

	<p>The supplied web page template includes Javascript code to insert the
	page title into the web page from data in the <em>clientconfigdata.js</em>
	file. If you wish to use this data, you will need to provide a similar 
	capability in your custom web page. This does not affec the HMIBuilder
	program however. 
	</p>


	<hr>
	

	<h2>Custom SVG Templates</h2>

	
	<p>The SVG templates provided are sized to fit the web templates (via CSS), and
	they also contain certain SVG boilerplate (primarily colour gradient and filter
	definitions used by the SVG clip art). A customised SVG template would normally
	be simply a re-sized version of one of the existing templates. This is best done
	by simply changing the drawing properties using Inkscape and saving the file
	under a new name.
	</p>
	
	<hr>
	

	<h2>Logos and Background Images</h2>

	
	<p>The logos, icons, and background images provided are intended as 
	<em>examples only</em>. You should be creating your own. See the section
	 above on "Sample PNG Graphics" for details on these.
	</p>
	
	<p>If you are providing your own logo file ("pagelogo.png"), it will not 
	necessarily be the same size as the sample. The web page will re-size it
	to fit in the available space (the width is set in the HTML web page).
	</p>
	
	<p>A logo file which is too far out of proportion (too tall and narrow) as 
	compared to the sample may disrupt the page layout. There is little which
	can be done to correct this except to customise the web page and CSS to suit.
	</p>
	
	<hr>
	

	<h2>Communications Errors and Protocol Status Texts</h2>

	
	<p>Standard message texts for communications errors and protocol status messages
	are provided as standard common data. These are located in the 
	"standardtexts.js" file. You can edit these messages to change the wording, or 
	to translate them to another language. However, do <strong>not</strong> 
	remove or alter any 
	of the tags associated with these messages. These tag names are part of the 
	protocol. The messages are in the format:
	</p>
	
<pre class="examples">

		"badtype" : "The data value is of an incompatible type.",

</pre>
	
	
	<p>where, "badtype" is a tag, the colon separates the tag from the message, "The 
	data value is of an incompatible type." is a message text, and a comma separates
	this message from the next message. A set of braces ("{ }") must enclose the
	each set of data. This format is a standard Javascript notation and must be
	followed if the system is to work correctly.
	</p>
	
	<hr>
	

	<h2>Alarm States Texts</h2>

	
	<p>The file "standardtexts.js" also contains the message texts which describe the 
	various alarm states ("Fault is active", "Alarm acknowledged", etc.). These
	text messages may be changed if desired. However, the same restrictions as 
	noted for communications errors and protocol status messages also applies. Do
	not remove any messages, and do not alter any of the tags. The format of the
	data structure is significant. 
	</p>
	

	<hr>
	
	<h2>HMI SVG Clip Art Library</h2>

	
	<p>An SVG clip-art library is provided as part of the system. Some of the input 
	functions such as push buttons, selectors switches, etc. have Javascript
	code embedded in them. The embedded code assumes that certain Javascript objects
	have been created with specific names. The names used are the same as in the
	web page templates. See the documentation on the clip art library for a list
	of the functions used.
	</p>



	<hr>

	</div>

	<!-- Standard footer -->
	<div id="footer">
		<p>MB-HMI</p>
	</div>

</div>


</body>
</html>


<!-- Copyright 2008 - 2010. Michael Griffin -->
<!-- This file is part of MBLogic. -->
<!-- MBLogic is free software: you can redistribute it and/or modify -->
<!-- it under the terms of the GNU General Public License as published by -->
<!-- the Free Software Foundation, either version 3 of the License, or -->
<!-- (at your option) any later version. -->
<!-- MBLogic is distributed in the hope that it will be useful, -->
<!-- but WITHOUT ANY WARRANTY; without even the implied warranty of -->
<!-- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the -->
<!-- GNU General Public License for more details. -->
<!-- You should have received a copy of the GNU General Public License -->
<!-- along with MBLogic. If not, see <http://www.gnu.org/licenses/>. -->

