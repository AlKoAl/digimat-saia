<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" 
	"http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html;charset=utf-8" >

	<title>Help - HMI - SVG Gauges, Tanks, and Hoppers</title>
<link rel="icon" type="image/png" href="/systemicon.png">
<!-- General page layout style sheet. -->
<link rel="stylesheet" href="/helppagelayout.css" type="text/css">
</head>

<body>
<div id="filler">

	<div id="header">
		<p class="headlogo">
			<img src="/systemlogo.png" width="200" alt="MB Logic Logo"/>
			<span class="headtitle1">MBLogic </span>
			<span class="headtitle2"> for an open world in automation</span>
		</p>
	</div>



	<!-- This is the standard nav bar. -->
	<div id="nav">
		<ul>
			<li><a href="/index.html">Home</a></li>
			<li><a href="/svgedit/svgedit.html">Edit SVG</a></li>
			<li><a href="/svglib/svglib.html">SVG Library</a></li>
			<li><a href="/svglibedit/svglibedit.html">Inkscape</a></li>
			<li><a href="/hmitemplates/hmitemplates.html">Templates</a></li>
			<li><a href="/hmibuilder/hmibuilder.html">Assemble Page</a></li>
		</ul>
	</div>




<hr>

	<!-- Put main content here -->

<div class="datadisplay">


<h1>Gauges, Tanks and Hoppers</h1>


<hr>

<h2>Dial and Column Gauges and Tanks/Hoppers</h2>


<p>Column gauges and tanks or hoppers work in an identical and differ only
in their appearance. Both use a "fill" property on a narrow "column". 
Dial gauges use a rotating pointer. 
</p>


<hr>

<h2>Gauge Columns and Pointers</h2>

<table class="helptable" border="1">
<tr>
	<th></th>
	<th>Type</th>
	<th>Name</th>
	<th>Description</th>
	<th>HMIBuilder Name</th>
</tr>

<tr>

	<td><img src="gauge_column_red_0.png" width="7" alt="clip-art">
	</td>
	<td>Column gauge column.<sup>1</sup>
	</td>
	<td>gauge_column_&lt;colour&gt;
	</td>
	<td>Active column for a column gauge.
	</td>
	<td>Column Gauge Rectangle
	</td>
	
</tr>

<tr>

	<td><img src="tank_column_green_0.png" width="15" alt="clip-art">
	</td>
	<td>Tank column.<sup>1</sup>
	</td>
	<td>tank_column_&lt;colour&gt;
	</td>
	<td>Active column for a tank.
	</td>
	<td>Tank Column Polygon
	</td>
	
</tr>

<tr>

	<td><img src="gauge_dialpointer_violet.png" width="15" alt="clip-art">
	</td>
	<td>Dial gauge pointer.<sup>2</sup>
	</td>
	<td>gauge_dialpointer_&lt;colour&gt;
	</td>
	<td>Pointer for a dial gauge.
	</td>
	<td>Dial Pointer
	</td>

</tr>
</table>


<p><strong>Note<sup>1</sup>:</strong> Older versions of HMIBuilder permitted 
only a fixed number of gauge columns. This limit no longer applies, and 
columns may now be repeated as many times as desired.
</p>

<p><strong>Note<sup>2</sup>:</strong> Older versions of HMIBuilder required the
"id" to be applied to dial pointers in a different way than with other widgets.
This no longer applies, and the "id" should be applied to the outer element as
is the case with other widgets.
</p>


<h3>HMIBuilder Parameters for Tank and Column Gauges</h3>

<table class="helptable" border="1">
<tr>
	<th>Parameter</th>
	<th>Type</th>
	<th>Values</th>
	<th>Description</th>
</tr>

<tr>
	<td>Output Tag
	</td>
	<td>Option menu
	</td>
	<td>Address tags
	</td>
	<td>The HMI server tag to read the current state from 
	</td>
</tr>

<tr>
	<td>Minimum Value
	</td>
	<td>Data entry box
	</td>
	<td>Integer
	</td>
	<td>The minimum data range. This value will be subracted from the monitored
		value.
	</td>
</tr>

<tr>
	<td>Maximum Value
	</td>
	<td>Data entry box
	</td>
	<td>Integer
	</td>
	<td>The maximum data range. The monitored value (minus the minimum value)
		will be divided by this value when scaling the number to fit within the
		required range. 
	</td>
</tr>

</table>

<p><strong>Note:</strong> If the minimum is 100 and the maximum is 5100,
a reading of 4000 will be scaled to (4000 - 100) / 5100 * 100 = 76%. 
</p>


<h3>HMIBuilder Parameters for Dial Pointers</h3>

<table class="helptable" border="1">
<tr>
	<th>Parameter</th>
	<th>Type</th>
	<th>Values</th>
	<th>Description</th>
</tr>

<tr>
	<td>Output Tag
	</td>
	<td>Option menu
	</td>
	<td>Address tags
	</td>
	<td>The HMI server tag to read the current state from 
	</td>
</tr>

<tr>
	<td>Dial Offset
	</td>
	<td>Data entry box
	</td>
	<td>Integer
	</td>
	<td>The offset of the "0" position in degrees from the bottom of the dial.  
	</td>
</tr>

<tr>
	<td>Dial Maximum
	</td>
	<td>Data entry box
	</td>
	<td>Integer
	</td>
	<td>The maximum dial angle to use.  
	</td>
</tr>

<tr>
	<td>Minimum Data Value
	</td>
	<td>Data entry box
	</td>
	<td>Float
	</td>
	<td>The minimum data range. 
	</td>
</tr>

<tr>
	<td>Maximum Data Value
	</td>
	<td>Data entry box
	</td>
	<td>Float
	</td>
	<td>The maximum data range.  
	</td>
</tr>

</table>

<p><strong>Note:</strong> The dial will apply the following calculation to the
monitored value: </p>
<p>((newdata - DataMin) / DataMax) * (DialMax - DialMin) + DialMin
</p>

<p><strong>Example:</strong> If the dial offset is 30 degrees, the maximum
dial position is 330 degrees, the minimum data value is 100 and the maximum 
data value is 5100, a reading of 4000 will be scaled to 
((4000 - 100) / 5100) * (330 - 30) + 30 = 259.4 degrees.
</p>

<p>Rotation is measured in degrees from the bottom of the dial, so the scale
factors should be calculated to give the desired resulting position. 
</p>

<hr>

<h2>Backgrounds</h2>

<p>These are normally combined with columns or pointers to form gauge displays. 
These are purely decorative backgrounds and have no input or output functions 
on their own. 
</p>

<table class="helptable" border="1">
<tr>
	<th></th>
	<th>Type</th>
	<th>Name</th>
	<th>Description</th>
</tr>

<tr>

	<td><img src="gauge_columnbg_indigo.png" width="25" alt="clip-art">
	</td>
	<td>Column gauge background.
	</td>
	<td>gauge_columnbg_&lt;colour&gt;
	</td>
	<td>Passive background for a column gauge.
	</td>
	
</tr>

<tr>

	<td><img src="tank_bg.png" width="75" alt="clip-art">
	</td>
	<td>Tank background.
	</td>
	<td>tank1_bg_&lt;colour&gt;
	</td>
	<td>Passive background for a tank column.
	</td>
	
</tr>


<tr>

	<td><img src="gauge_dialbg_orange.png" width="75" alt="clip-art">
	</td>
	<td>Dial gauge background.
	</td>
	<td>gauge_dialbg_&lt;colour&gt;
	</td>
	<td>Passive background for a dial gauge.
	</td>
	
</tr>

</table>


<hr>


	</div>

	<!-- Standard footer -->
	<div id="footer">
		<p>MB-HMI</p>
	</div>

</div>


</body>
</html>


<!-- Copyright 2008 - 2011. Michael Griffin -->
<!-- This file is part of MBLogic. -->
<!-- MBLogic is free software: you can redistribute it and/or modify -->
<!-- it under the terms of the GNU General Public License as published by -->
<!-- the Free Software Foundation, either version 3 of the License, or -->
<!-- (at your option) any later version. -->
<!-- MBLogic is distributed in the hope that it will be useful, -->
<!-- but WITHOUT ANY WARRANTY; without even the implied warranty of -->
<!-- MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the -->
<!-- GNU General Public License for more details. -->
<!-- You should have received a copy of the GNU General Public License -->
<!-- along with MBLogic. If not, see <http://www.gnu.org/licenses/>. -->

